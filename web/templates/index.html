<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>InceptionV3 Image Classifier - AI-Powered Scene Recognition</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="/static/style.css" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-glass fixed-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <i class="bi bi-camera-reels-fill me-2 text-primary fs-4"></i>
        <span class="fw-bold">InceptionV3</span>
      </a>
      <div class="ms-auto d-flex align-items-center gap-2">
        <button class="btn btn-sm btn-outline-primary" id="switch-btn">
          <i class="bi bi-arrow-repeat"></i> Switch Model
        </button>
        <button class="btn btn-sm btn-outline-secondary" id="dark-mode-toggle">
          <i class="bi bi-moon-stars-fill"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="hero-badge mb-3">
            <span class="badge bg-primary-soft text-primary">
              <i class="bi bi-stars"></i> Powered by InceptionV3
            </span>
          </div>
          <h1 class="display-4 fw-bold mb-3 hero-title">
            AI-Powered <span class="text-gradient">Scene Recognition</span>
          </h1>
          <p class="lead text-muted mb-4">
            Advanced deep learning model untuk mengklasifikasikan gambar ke dalam 6 kategori: buildings, forest, glacier, mountain, sea, dan street.
          </p>
          <div class="d-flex gap-3 mb-4">
            <div class="stat-box">
              <div class="stat-value">86.8%</div>
              <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-box">
              <div class="stat-value">0.98</div>
              <div class="stat-label">ROC AUC</div>
            </div>
            <div class="stat-box">
              <div class="stat-value">6</div>
              <div class="stat-label">Classes</div>
            </div>
          </div>
          <a href="#upload" class="btn btn-primary btn-lg px-4">
            <i class="bi bi-upload me-2"></i>Try It Now
          </a>
        </div>
        <div class="col-lg-6">
          <div class="hero-image-wrapper">
            <div class="hero-image-bg"></div>
            <img src="/static/hero-illustration.svg" alt="AI Illustration" class="img-fluid hero-image" onerror="this.style.display='none'">
            <div class="floating-card card-1">
              <i class="bi bi-image"></i>
              <span>Image Input</span>
            </div>
            <div class="floating-card card-2">
              <i class="bi bi-cpu"></i>
              <span>InceptionV3</span>
            </div>
            <div class="floating-card card-3">
              <i class="bi bi-check-circle-fill text-success"></i>
              <span>Classification</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section py-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="bi bi-lightning-charge-fill"></i>
            </div>
            <h5 class="fw-bold mb-2">Fast & Accurate</h5>
            <p class="text-muted mb-0">Prediksi real-time dengan akurasi tinggi menggunakan arsitektur InceptionV3</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="bi bi-palette-fill"></i>
            </div>
            <h5 class="fw-bold mb-2">6 Scene Categories</h5>
            <p class="text-muted mb-0">Mengenali buildings, forest, glacier, mountain, sea, dan street</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="bi bi-graph-up-arrow"></i>
            </div>
            <h5 class="fw-bold mb-2">Detailed Analysis</h5>
            <p class="text-muted mb-0">Lihat confidence score dan probabilitas untuk setiap kategori</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Upload Section -->
  <section id="upload" class="upload-section py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="fw-bold mb-3">Try The Classifier</h2>
        <p class="text-muted">Upload atau drag & drop gambar untuk melihat prediksi AI</p>
      </div>
      
      <div class="row g-4">
        <div class="col-lg-5">
          <div class="card card-modern">
            <div class="card-body">
              <div class="d-flex align-items-center mb-3">
                <i class="bi bi-cloud-arrow-up-fill text-primary fs-3 me-2"></i>
                <h5 class="mb-0 fw-bold">Upload Image</h5>
              </div>
              
              <input type="file" id="file" name="file" accept="image/*" class="d-none">
              
              <div id="dropzone" class="dropzone mb-3">
                <i class="bi bi-cloud-arrow-up fs-1 mb-2"></i>
                <div class="fw-bold">Click to choose image</div>
                <div class="small text-muted mt-1">or drag & drop here</div>
                <div class="small text-muted mt-2">Supports: JPG, PNG, GIF</div>
              </div>
              
              <div id="preview-wrapper" class="mb-3" style="display:none;">
                <img id="preview" alt="preview" class="img-fluid rounded shadow-sm" />
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-lg-7">
          <div class="card card-modern">
            <div class="card-body">
              <div class="d-flex align-items-center mb-3">
                <i class="bi bi-bar-chart-fill text-primary fs-3 me-2"></i>
                <h5 class="mb-0 fw-bold">Prediction Results</h5>
              </div>
              
              <div id="result-empty" class="empty-state">
                <i class="bi bi-image-fill"></i>
                <p>Upload an image to see the AI prediction</p>
              </div>
              
              <div id="result" class="d-none">
                <div class="result-badge mb-4">
                  <div class="result-class" id="pred-class">—</div>
                  <div class="result-confidence">
                    <span class="confidence-label">Confidence</span>
                    <span class="confidence-value" id="pred-conf">—</span>
                  </div>
                </div>

                <h6 class="fw-bold mb-3">All Probabilities</h6>
                <div id="probs-bars"></div>
              </div>
              
              <div id="error" class="alert alert-danger d-none"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer-section py-4 mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
          <p class="mb-0 text-muted">
            <i class="bi bi-github me-2"></i>
            <span class="small">Model: <span id="results-dir">{{ results_dir }}</span></span>
          </p>
        </div>
        <div class="col-md-6 text-center text-md-end">
          <p class="mb-0 text-muted small">© 2025 Deep Learning Kelompok 4</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/app.js"></script>

  <!-- Switch Model Modal -->
  <div class="modal fade" id="switchModelModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"><i class="bi bi-arrow-repeat me-2"></i>Switch Model</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="resultsDirInput" class="form-label fw-semibold">Results Directory Path</label>
            <input type="text" class="form-control" id="resultsDirInput" placeholder="C:\\PROJECT_GITHUB\\Deep_Learning_Kelompok4\\results">
            <div class="form-text">Folder harus berisi inceptionv3_model.h5 dan class_indices.json</div>
          </div>
          <div id="switchError" class="alert alert-danger d-none"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="btnSwitchModel">
            <i class="bi bi-check-lg me-1"></i>Apply Changes
          </button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
